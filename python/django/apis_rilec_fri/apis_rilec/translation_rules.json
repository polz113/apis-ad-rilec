

{
    "EXTRA_FIELDS": {
        "ime": [
            ["${OsebniPodatki__0002__0__ime}", []]
        ],
        "priimek": [
            ["${OsebniPodatki__0002__0__priimek}", []]
        ],
        "default_username": [
            ["${OsebniPodatki__0002__0__ime} ${OsebniPodatki__0002__0__priimek}", ["default_username_fn"]],
            ["${ime} ${priimek}", ["default_username_fn"]]
        ],
        "celoime": [
            ["${OsebniPodatki__0002__0__ime} ${OsebniPodatki__0002__0__priimek}", []],
            ["${ime} ${priimek}", []]
        ],
        "email": [
            ["${Komunikacija__0105__0010__vrednostNaziv}", []]
        ],
        "ad_lokacija": [
            ["${lokacija}", ["studis_sifrant_lokacije"]],
            ["${Komunikacija__0105__9005__vrednostNaziv}", []]
        ],
        "userPrincipalName": [
            ["${Komunikacija__0105__9007__vrednostNaziv}", []],
            ["${upn}", []]
        ],
        "telefon": [
            ["${Komunikacija__0105__0020__vrednostNaziv}", []]
        ],
        "job_title": [
            ["${OsebniPodatki__0002__0__nazivPredImenom}", []]
        ],
        "ip_telefon": [
        ],
        "domaci_telefon": [
        ],
        "mobilni_telefon": [
        ],
        "fax": [
        ],
        "oddelek": [
        ],
        "streetAddress": [
        ],
        "homepage": [
        ],
        "izobrazba_prefix": [
        ],
        "izobrazba_suffix": [
        ],
        "personal_position": [
        ],
        "manager_dn": [
        ],
        "ou_name": [
        ],
        "clanica_domena": [
            ["${Ukrep__clanica_Id}",
                ["clanica_domena_repl"]],
            ["${zavod}",
                ["zavod_domena_repl"]]
        ],
        "clanica_prefix": [
            ["${Ukrep__clanica_Id}", ["clanica_prefix_repl"]],
            ["${zavod}", ["zavod_prefix_repl"]]
        ],
        "clanica_ime": [
            [
                "${Ukrep__clanica_Id}", 
                ["clanica_ime_repl"]
            ],
            [
                "${zavod}", 
                ["zavod_ime_repl"]
            ]
        ],
        "habilitacija": [
            [
                "${Habilitacija__9004__0__habilizacijskiNaziv}",
                ["habilitacija_repl"]
            ]
        ],
        "vrsta_zaposlitve": [
            [
                "${OrgDodelitev__0001__0__skupinaZaposlenih}.${OrgDodelitev__0001__0__podskupinaZaposlenih}",
                ["vrsta_zaposlitve_repl"]
            ]
        ],
        "apis_oupart": [
            [
                "${OrgDodelitev__0001__0__glavnaOrganizacijskaEnota_Id}",
                ["apis_ou_parts"]
            ]
        ]
    },
    "TRANSLATIONS": {
        "clanica_domena_repl": [
            [ "2300", "DC=test,DC=fri,DC=uni-lj,DC=si", {}]
        ],
        "zavod_domena_repl": [
            [ "63", "DC=test,DC=fri,DC=uni-lj,DC=si", {}]
        ],
        "clanica_prefix_repl": [
            [ "2300", "FRI", {}]
        ],
        "zavod_prefix_repl": [
            [ "63", "FRI", {}]
        ],
        "clanica_ime_repl": [
            [ "2300", "Fakulteta za računalništvo in informatiko", {}]
        ],
        "zavod_ime_repl": [
            [ "63", "Fakulteta za računalništvo in informatiko", {}]
        ],
        "vrsta_zaposlitve_repl":[
            [ "1.11", "Redni", {}],
            [ "1.00", "Izredni", {}],
            [ "", "Zunanji", {"default": true} ]
        ],
        "habilitacija_repl":[
            [ "001.00", "Test1", {}],
            [ "002.00", "Test1", {}],
            [ "019.00", "Test3", {}],
            [ "", "Neznana", {"default": true}]
        ],
        "sap_ou_shortnames": [
            ["OU=BIOLAB-2.7", "OU=BIOLAB", {"substring": true}],
            ["OU=LEM-2.9", "OU=LEM", {"substring": true}],
            ["OU=LA-2.16", "OU=LA", {"substring": true}],
            ["OU=LASP-2.12", "OU=LASP", {"substring": true}],
            ["OU=LGM-2.1", "OU=LGM", {"substring": true}],
            ["OU=LKM-2.5", "OU=LKM", {"substring": true}],
            ["OU=LPT-2.10", "OU=LPT", {"substring": true}],
            ["OU=LIIS-2.11", "OU=LIIS", {"substring": true}],
            ["OU=LKRV-2.18", "OU=LKRV", {"substring": true}],
            ["OU=LMMRI-2.17", "OU=LMMRI", {"substring": true}],
            ["OU=LRV-2.6", "OU=LRV", {"substring": true}],
            ["OU=LUI-2.4", "OU=LUI", {"substring": true}],
            ["OU=LVS-2.15", "OU=LVS", {"substring": true}],
            ["OU=LUVSS-2.3", "OU=LUVSS", {"substring": true}],
            ["OU=LRSS-2.13", "OU=LUI", {"substring": true}],
            ["OU=LRK-2.19", "OU=LRK", {"substring": true}],
            ["OU=LTPO-2.14", "OU=LTPO", {"substring": true}],
            ["OU=LBRSO-2.2", "OU=LBRSO", {"substring": true}]
        ],
        "sap_ou_names": [
            ["UL Fakulteta za računalništvo in informa", "UL Fakulteta za računalništvo in informatiko", {}],
            ["Laboratorij za adaptivne sisteme in proc", "Laboratorij za adaptivne sisteme in procesiranje", {}],
            ["Laboratorij za računalniško grafiko in m", "Laboratorij za računalniško grafiko in multimedije", {}],
            ["Laboratorij za biomedicinske računalnišk", "Laboratorij za biomedicinske računalniške sisteme in oslikave", {}],
            ["Laboratorij za integracijo informacijski", "Laboratorij za integracijo informacijskih sistemov", {}],
            ["Laboratorij za kriptografijo in računaln", "Laboratorij za kriptografijo in računalniško varnost", {}],
            ["Laboratorij za matematične metode v raču", "Laboratorij za matematične metode v računalništvu", {}],
            ["Laboratorij za umetne vizualne spoznavne", "Laboratorij za umetne vizualne spoznavne sisteme", {}],
            ["Laboratorij za računalniške strukture in", "Laboratorij za računalniške strukture in sisteme", {}],
            ["Laboratorij za tehnologijo programske op", "Laboratorij za tehnologijo programske opreme", {}],
            ["Katedra za informacijske sisteme in tehn", "Katedra za informacijske sisteme in tehnologije", {}]
        ],
        "group_types": [
            ["global distribution", "2", {}],
            ["distribution", "2", {}],
            ["local distribution", "4", {}],
            ["universal distribution", "8", {}],
            ["global security", "2147483650", {}],
            ["security", "2147483650", {}],
            ["local security", "2147483652", {}],
            ["universal security", "2147483656", {}]
        ]
    },
    "USER_RULES": {
        "objectClass": ["top","person","organizationalPerson","user"],
        "co": "Slovenia",
        "objectCategory": "CN=Person,CN=Schema,CN=Configuration,DC=uni-lj,DC=si",
        "cn": "${ime} ${priimek}",
        "sn": "${priimek}",
        "givenName": "${ime}",
        "displayName": "${celoime}",
        "company": "${clanica_ime}",
        "name": "${celoime}",
        "sAMAccountName": "${default_username}",
        "userPrincipalName": "${userPrincipalName}",
        "mail": "${email}",
        "employeeID": "${uid}",
        "c": "SI",
        "l": "Ljubljana",
        "title": "${job_title}",
        "description": "${job_title}, ${izobrazba_prefix}",
        "postalCode": "1000",
        "physicalDeliveryOfficeName": "${ad_lokacija}",
        "telephoneNumber": "${telefon}",
        "department": "${oddelek}",
        "streetAddress": "${streetAddress}",
        "facsimileTelephoneNumber": "${fax}",
        "wWWHomePage": "${homepage}",
        "ipPhone": "${ip_telefon}",
        "manager": "${manager_dn}",
        "homePhone": "${domaci_telefon}",
        "mobile": "${mobilni_telefon}",
        "displayNamePrintable": "${celoime}",
        "extensionAttribute15": "${clanica_ime}",
        "schacHomeOrganization": "${clanica_dnsdomena}",
        "eduPersonAffiliation": "staff",
        "eduPersonPrimaryAffiliation": "employee",
        "PersonalTitle": "${izobrazba_prefix}",
        "schacPersonalTitle": "${izobrazba_suffix}",
        "schacPersonalPosition": "${personal_position}",
        "OU": "${ou_name}"
    },
    "GROUP_RULES": [
        [
            {
                "objectClass": ["top", "organizationalUnit"],
                "distinguishedName": "${clanica_domena},OU=${clanica_prefix},OU=Users",
                "groupType": "${group_type}"
            }, {
                "main_ou": true,
                "create_fields": {
                    "clanica_domena": [["${clanica_id}", ["clanica_domena_repl"]]],
                    "clanica_prefix": [["${clanica_id}", ["clanica_prefix_repl"]]],
                    "group_type": [["${group_type}", ["group_types"]]]
                },
                "create_sources": {
                    "clanica_id": ["translate_keys", ["clanica_domena_repl"]],
                    "group_type": ["constant", ["global security"]]
                }
            }
        ],
        [
            {
                "objectClass": ["top", "group"],
                "distinguishedName": "${clanica_domena},OU=${clanica_prefix},OU=autopravice,OU=oddelki,${apis_ous},${vrsta_zaposlitve}",
                "groupType": "${group_type}",
                "name": "${vrsta_zaposlitve}"
            },
            {
                "parent_templates":[
                    {
                        "objectClass": "top; organizationalUnit",
                        "distinguishedName": "${clanica_domena},OU=${clanica_prefix},OU=autopravice,OU=oddelki,${apis_ous}"
                    }, {
                        "objectClass": "top; organizationalUnit",
                        "distinguishedName": "${clanica_domena},OU=${clanica_prefix},OU=autopravice,OU=oddelki"
                    }
                ],
                "create_fields": {
                    "apis_ous": [["${group_uid}", ["apis_ou_parts"]]],
                    "clanica_domena": [["${clanica_id}", ["clanica_domena_repl"]]],
                    "clanica_prefix": [["${clanica_id}", ["clanica_prefix_repl"]]],
                    "vrsta_zaposlitve": [["${vrsta_zaposlitve_id}", ["vrsta_zaposlitve_repl"]]],
                    "group_type": [["${group_type}", ["group_types"]]]
                },
                "create_sources": {
                    "clanica_id": ["translate_keys", ["clanica_domena_repl"]],
                    "vrsta_zaposlitve_id": ["translate_keys", ["vrsta_zaposlitve_repl"]],
                    "group_uid": ["translate_keys", ["apis_ou_parts"]],
                    "group_type": ["constant", ["global security"]]
                }
            }
        ],
        [
            {
                "objectClass": ["top", "group"],
                "distinguishedName": "${clanica_domena},OU=${clanica_prefix},OU=autopravice,OU=zaposlitev,OU=${vrsta_zaposlitve}",
                "groupType": "${group_type}",
                "name": "${vrsta_zaposlitve}"
            }, {
                "create_fields": {
                    "clanica_domena": [["${clanica_id}", ["clanica_domena_repl"]]],
                    "clanica_prefix": [["${clanica_id}", ["clanica_prefix_repl"]]],
                    "vrsta_zaposlitve": [["${vrsta_zaposlitve_id}", ["vrsta_zaposlitve_repl"]]],
                    "group_type": [["${group_type}", ["group_types"]]]
                },
                "create_sources": {
                    "clanica_id": ["translate_keys", ["clanica_domena_repl"]],
                    "vrsta_zaposlitve_id": ["translate_keys", ["vrsta_zaposlitve_repl"]],
                    "group_type": ["constant", ["global security"]]
                }
            }
        ],
        [
            {
                "objectClass": ["top", "group"],
                "distinguishedName": "${clanica_domena},OU=${clanica_prefix},OU=autopravice,OU=habilitacija,OU=${habilitacija}", 
                "groupType": "${group_type}",
                "name": "${habilitacija}"
            }, {
                "create_fields": {
                    "clanica_domena": [["${clanica_id}", ["clanica_domena_repl"]]],
                    "clanica_prefix": [["${clanica_id}", ["clanica_prefix_repl"]]],
                    "habilitacija": [["${habilitacija}", []]],
                    "group_type": [["${group_type}", ["group_types"]]]
                },
                "create_sources": {
                    "clanica_id": ["translate_keys", ["clanica_domena_repl"]],
                    "habilitacija": ["translate_values", ["habilitacija_repl"]],
                    "group_type": ["constant", ["global security"]]
                }
            }
        ]
    ]
}
